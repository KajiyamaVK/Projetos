{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import PropTypes from'prop-types';import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import{ViewPropTypes}from\"./config\";var ANIMATED_EASING_PREFIXES=['easeInOut','easeOut','easeIn'];var Collapsible=function(_Component){_inherits(Collapsible,_Component);var _super=_createSuper(Collapsible);function Collapsible(props){var _this;_classCallCheck(this,Collapsible);_this=_super.call(this,props);_this.contentHandle=null;_this._handleRef=function(ref){_this.contentHandle=ref;};_this._handleLayoutChange=function(event){var contentHeight=event.nativeEvent.layout.height;if(_this.state.animating||_this.props.collapsed||_this.state.measuring||_this.state.contentHeight===contentHeight){return;}_this.state.height.setValue(contentHeight);_this.setState({contentHeight:contentHeight});};_this.state={measuring:false,measured:false,height:new Animated.Value(props.collapsedHeight),contentHeight:0,animating:false};return _this;}_createClass(Collapsible,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var _this2=this;if(prevProps.collapsed!==this.props.collapsed){this.setState({measured:false},function(){return _this2._componentDidUpdate(prevProps);});}else{this._componentDidUpdate(prevProps);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unmounted=true;}},{key:\"_componentDidUpdate\",value:function _componentDidUpdate(prevProps){if(prevProps.collapsed!==this.props.collapsed){this._toggleCollapsed(this.props.collapsed);}else if(this.props.collapsed&&prevProps.collapsedHeight!==this.props.collapsedHeight){this.state.height.setValue(this.props.collapsedHeight);}}},{key:\"_measureContent\",value:function _measureContent(callback){var _this3=this;this.setState({measuring:true},function(){requestAnimationFrame(function(){if(!_this3.contentHandle){_this3.setState({measuring:false},function(){return callback(_this3.props.collapsedHeight);});}else{var ref;if(typeof _this3.contentHandle.measure==='function'){ref=_this3.contentHandle;}else{ref=_this3.contentHandle.getNode();}ref.measure(function(x,y,width,height){_this3.setState({measuring:false,measured:true,contentHeight:height},function(){return callback(height);});});}});});}},{key:\"_toggleCollapsed\",value:function _toggleCollapsed(collapsed){var _this4=this;if(collapsed){this._transitionToHeight(this.props.collapsedHeight);}else if(!this.contentHandle){if(this.state.measured){this._transitionToHeight(this.state.contentHeight);}return;}else{this._measureContent(function(contentHeight){_this4._transitionToHeight(contentHeight);});}}},{key:\"_transitionToHeight\",value:function _transitionToHeight(height){var _this5=this;var duration=this.props.duration;var easing=this.props.easing;if(typeof easing==='string'){var prefix;var found=false;for(var i=0;i<ANIMATED_EASING_PREFIXES.length;i++){prefix=ANIMATED_EASING_PREFIXES[i];if(easing.substr(0,prefix.length)===prefix){easing=easing.substr(prefix.length,1).toLowerCase()+easing.substr(prefix.length+1);prefix=prefix.substr(4,1).toLowerCase()+prefix.substr(5);easing=Easing[prefix](Easing[easing||'ease']);found=true;break;}}if(!found){easing=Easing[easing];}if(!easing){throw new Error('Invalid easing type \"'+this.props.easing+'\"');}}if(this._animation){this._animation.stop();}this.setState({animating:true});this._animation=Animated.timing(this.state.height,{useNativeDriver:false,toValue:height,duration:duration,easing:easing}).start(function(){if(_this5.unmounted){return;}_this5.setState({animating:false},function(){if(_this5.unmounted){return;}_this5.props.onAnimationEnd();});});}},{key:\"render\",value:function render(){var _this$props=this.props,collapsed=_this$props.collapsed,enablePointerEvents=_this$props.enablePointerEvents;var _this$state=this.state,height=_this$state.height,contentHeight=_this$state.contentHeight,measuring=_this$state.measuring,measured=_this$state.measured;var hasKnownHeight=!measuring&&(measured||collapsed);var style=hasKnownHeight&&{overflow:'hidden',height:height};var contentStyle={};if(measuring){contentStyle.position='absolute';contentStyle.opacity=0;}else if(this.props.align==='center'){contentStyle.transform=[{translateY:height.interpolate({inputRange:[0,contentHeight],outputRange:[contentHeight/-2,0]})}];}else if(this.props.align==='bottom'){contentStyle.transform=[{translateY:height.interpolate({inputRange:[0,contentHeight],outputRange:[-contentHeight,0]})}];}return React.createElement(Animated.View,{style:style,pointerEvents:!enablePointerEvents&&collapsed?'none':'auto'},React.createElement(Animated.View,{ref:this._handleRef,style:[this.props.style,contentStyle],onLayout:this.state.animating?undefined:this._handleLayoutChange},this.props.children));}}]);return Collapsible;}(Component);Collapsible.propTypes={align:PropTypes.oneOf(['top','center','bottom']),collapsed:PropTypes.bool,collapsedHeight:PropTypes.number,enablePointerEvents:PropTypes.bool,duration:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),style:ViewPropTypes.style,onAnimationEnd:PropTypes.func,children:PropTypes.node};Collapsible.defaultProps={align:'top',collapsed:true,collapsedHeight:0,enablePointerEvents:false,duration:300,easing:'easeOutCubic',onAnimationEnd:function onAnimationEnd(){return null;}};export{Collapsible as default};","map":{"version":3,"sources":["C:/Rep/Projetos/Fidelity/node_modules/react-native-collapsible/Collapsible.js"],"names":["React","Component","PropTypes","ViewPropTypes","ANIMATED_EASING_PREFIXES","Collapsible","props","contentHandle","_handleRef","ref","_handleLayoutChange","event","contentHeight","nativeEvent","layout","height","state","animating","collapsed","measuring","setValue","setState","measured","Animated","Value","collapsedHeight","prevProps","_componentDidUpdate","unmounted","_toggleCollapsed","callback","requestAnimationFrame","measure","getNode","x","y","width","_transitionToHeight","_measureContent","duration","easing","prefix","found","i","length","substr","toLowerCase","Easing","Error","_animation","stop","timing","useNativeDriver","toValue","start","onAnimationEnd","enablePointerEvents","hasKnownHeight","style","overflow","contentStyle","position","opacity","align","transform","translateY","interpolate","inputRange","outputRange","undefined","children","propTypes","oneOf","bool","number","oneOfType","string","func","node","defaultProps"],"mappings":"ggCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,C,sHAEA,OAASC,aAAT,gBAEA,GAAMC,CAAAA,wBAAwB,CAAG,CAAC,WAAD,CAAc,SAAd,CAAyB,QAAzB,CAAjC,C,GAEqBC,CAAAA,W,6FAuBnB,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EADiB,MAoCnBC,aApCmB,CAoCH,IApCG,OAsCnBC,UAtCmB,CAsCN,SAAAC,GAAG,CAAI,CAClB,MAAKF,aAAL,CAAqBE,GAArB,CACD,CAxCkB,OA8InBC,mBA9ImB,CA8IG,SAAAC,KAAK,CAAI,CAC7B,GAAMC,CAAAA,aAAa,CAAGD,KAAK,CAACE,WAAN,CAAkBC,MAAlB,CAAyBC,MAA/C,CACA,GACE,MAAKC,KAAL,CAAWC,SAAX,EACA,MAAKX,KAAL,CAAWY,SADX,EAEA,MAAKF,KAAL,CAAWG,SAFX,EAGA,MAAKH,KAAL,CAAWJ,aAAX,GAA6BA,aAJ/B,CAKE,CACA,OACD,CAED,MAAKI,KAAL,CAAWD,MAAX,CAAkBK,QAAlB,CAA2BR,aAA3B,EACA,MAAKS,QAAL,CAAc,CAAET,aAAa,CAAbA,aAAF,CAAd,EACD,CA3JkB,CAEjB,MAAKI,KAAL,CAAa,CACXG,SAAS,CAAE,KADA,CAEXG,QAAQ,CAAE,KAFC,CAGXP,MAAM,CAAE,GAAIQ,CAAAA,QAAQ,CAACC,KAAb,CAAmBlB,KAAK,CAACmB,eAAzB,CAHG,CAIXb,aAAa,CAAE,CAJJ,CAKXK,SAAS,CAAE,KALA,CAAb,CAFiB,aASlB,C,sFAEkBS,S,CAAW,iBAC5B,GAAIA,SAAS,CAACR,SAAV,GAAwB,KAAKZ,KAAL,CAAWY,SAAvC,CAAkD,CAChD,KAAKG,QAAL,CAAc,CAAEC,QAAQ,CAAE,KAAZ,CAAd,CAAmC,iBACjC,CAAA,MAAI,CAACK,mBAAL,CAAyBD,SAAzB,CADiC,EAAnC,EAGD,CAJD,IAIO,CACL,KAAKC,mBAAL,CAAyBD,SAAzB,EACD,CACF,C,mEAEsB,CACrB,KAAKE,SAAL,CAAiB,IAAjB,CACD,C,gEAEmBF,S,CAAW,CAC7B,GAAIA,SAAS,CAACR,SAAV,GAAwB,KAAKZ,KAAL,CAAWY,SAAvC,CAAkD,CAChD,KAAKW,gBAAL,CAAsB,KAAKvB,KAAL,CAAWY,SAAjC,EACD,CAFD,IAEO,IACL,KAAKZ,KAAL,CAAWY,SAAX,EACAQ,SAAS,CAACD,eAAV,GAA8B,KAAKnB,KAAL,CAAWmB,eAFpC,CAGL,CACA,KAAKT,KAAL,CAAWD,MAAX,CAAkBK,QAAlB,CAA2B,KAAKd,KAAL,CAAWmB,eAAtC,EACD,CACF,C,wDAQeK,Q,CAAU,iBACxB,KAAKT,QAAL,CACE,CACEF,SAAS,CAAE,IADb,CADF,CAIE,UAAM,CACJY,qBAAqB,CAAC,UAAM,CAC1B,GAAI,CAAC,MAAI,CAACxB,aAAV,CAAyB,CACvB,MAAI,CAACc,QAAL,CACE,CACEF,SAAS,CAAE,KADb,CADF,CAIE,iBAAMW,CAAAA,QAAQ,CAAC,MAAI,CAACxB,KAAL,CAAWmB,eAAZ,CAAd,EAJF,EAMD,CAPD,IAOO,CACL,GAAIhB,CAAAA,GAAJ,CACA,GAAI,MAAO,CAAA,MAAI,CAACF,aAAL,CAAmByB,OAA1B,GAAsC,UAA1C,CAAsD,CACpDvB,GAAG,CAAG,MAAI,CAACF,aAAX,CACD,CAFD,IAEO,CACLE,GAAG,CAAG,MAAI,CAACF,aAAL,CAAmB0B,OAAnB,EAAN,CACD,CACDxB,GAAG,CAACuB,OAAJ,CAAY,SAACE,CAAD,CAAIC,CAAJ,CAAOC,KAAP,CAAcrB,MAAd,CAAyB,CACnC,MAAI,CAACM,QAAL,CACE,CACEF,SAAS,CAAE,KADb,CAEEG,QAAQ,CAAE,IAFZ,CAGEV,aAAa,CAAEG,MAHjB,CADF,CAME,iBAAMe,CAAAA,QAAQ,CAACf,MAAD,CAAd,EANF,EAQD,CATD,EAUD,CACF,CA1BoB,CAArB,CA2BD,CAhCH,EAkCD,C,0DAEgBG,S,CAAW,iBAC1B,GAAIA,SAAJ,CAAe,CACb,KAAKmB,mBAAL,CAAyB,KAAK/B,KAAL,CAAWmB,eAApC,EACD,CAFD,IAEO,IAAI,CAAC,KAAKlB,aAAV,CAAyB,CAC9B,GAAI,KAAKS,KAAL,CAAWM,QAAf,CAAyB,CACvB,KAAKe,mBAAL,CAAyB,KAAKrB,KAAL,CAAWJ,aAApC,EACD,CACD,OACD,CALM,IAKA,CACL,KAAK0B,eAAL,CAAqB,SAAA1B,aAAa,CAAI,CACpC,MAAI,CAACyB,mBAAL,CAAyBzB,aAAzB,EACD,CAFD,EAGD,CACF,C,gEAEmBG,M,CAAQ,oBAClBwB,CAAAA,QADkB,CACL,KAAKjC,KADA,CAClBiC,QADkB,CAE1B,GAAIC,CAAAA,MAAM,CAAG,KAAKlC,KAAL,CAAWkC,MAAxB,CACA,GAAI,MAAOA,CAAAA,MAAP,GAAkB,QAAtB,CAAgC,CAC9B,GAAIC,CAAAA,MAAJ,CACA,GAAIC,CAAAA,KAAK,CAAG,KAAZ,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGvC,wBAAwB,CAACwC,MAA7C,CAAqDD,CAAC,EAAtD,CAA0D,CACxDF,MAAM,CAAGrC,wBAAwB,CAACuC,CAAD,CAAjC,CACA,GAAIH,MAAM,CAACK,MAAP,CAAc,CAAd,CAAiBJ,MAAM,CAACG,MAAxB,IAAoCH,MAAxC,CAAgD,CAC9CD,MAAM,CACJA,MAAM,CAACK,MAAP,CAAcJ,MAAM,CAACG,MAArB,CAA6B,CAA7B,EAAgCE,WAAhC,GACAN,MAAM,CAACK,MAAP,CAAcJ,MAAM,CAACG,MAAP,CAAgB,CAA9B,CAFF,CAGAH,MAAM,CAAGA,MAAM,CAACI,MAAP,CAAc,CAAd,CAAiB,CAAjB,EAAoBC,WAApB,GAAoCL,MAAM,CAACI,MAAP,CAAc,CAAd,CAA7C,CACAL,MAAM,CAAGO,MAAM,CAACN,MAAD,CAAN,CAAeM,MAAM,CAACP,MAAM,EAAI,MAAX,CAArB,CAAT,CACAE,KAAK,CAAG,IAAR,CACA,MACD,CACF,CACD,GAAI,CAACA,KAAL,CAAY,CACVF,MAAM,CAAGO,MAAM,CAACP,MAAD,CAAf,CACD,CACD,GAAI,CAACA,MAAL,CAAa,CACX,KAAM,IAAIQ,CAAAA,KAAJ,CAAU,wBAA0B,KAAK1C,KAAL,CAAWkC,MAArC,CAA8C,GAAxD,CAAN,CACD,CACF,CAED,GAAI,KAAKS,UAAT,CAAqB,CACnB,KAAKA,UAAL,CAAgBC,IAAhB,GACD,CACD,KAAK7B,QAAL,CAAc,CAAEJ,SAAS,CAAE,IAAb,CAAd,EACA,KAAKgC,UAAL,CAAkB1B,QAAQ,CAAC4B,MAAT,CAAgB,KAAKnC,KAAL,CAAWD,MAA3B,CAAmC,CACnDqC,eAAe,CAAE,KADkC,CAEnDC,OAAO,CAAEtC,MAF0C,CAGnDwB,QAAQ,CAARA,QAHmD,CAInDC,MAAM,CAANA,MAJmD,CAAnC,EAKfc,KALe,CAKT,UAAM,CACb,GAAI,MAAI,CAAC1B,SAAT,CAAoB,CAClB,OACD,CACD,MAAI,CAACP,QAAL,CAAc,CAAEJ,SAAS,CAAE,KAAb,CAAd,CAAoC,UAAM,CACxC,GAAI,MAAI,CAACW,SAAT,CAAoB,CAClB,OACD,CACD,MAAI,CAACtB,KAAL,CAAWiD,cAAX,GACD,CALD,EAMD,CAfiB,CAAlB,CAgBD,C,uCAiBQ,iBACoC,KAAKjD,KADzC,CACCY,SADD,aACCA,SADD,CACYsC,mBADZ,aACYA,mBADZ,iBAEgD,KAAKxC,KAFrD,CAECD,MAFD,aAECA,MAFD,CAESH,aAFT,aAESA,aAFT,CAEwBO,SAFxB,aAEwBA,SAFxB,CAEmCG,QAFnC,aAEmCA,QAFnC,CAGP,GAAMmC,CAAAA,cAAc,CAAG,CAACtC,SAAD,GAAeG,QAAQ,EAAIJ,SAA3B,CAAvB,CACA,GAAMwC,CAAAA,KAAK,CAAGD,cAAc,EAAI,CAC9BE,QAAQ,CAAE,QADoB,CAE9B5C,MAAM,CAAEA,MAFsB,CAAhC,CAIA,GAAM6C,CAAAA,YAAY,CAAG,EAArB,CACA,GAAIzC,SAAJ,CAAe,CACbyC,YAAY,CAACC,QAAb,CAAwB,UAAxB,CACAD,YAAY,CAACE,OAAb,CAAuB,CAAvB,CACD,CAHD,IAGO,IAAI,KAAKxD,KAAL,CAAWyD,KAAX,GAAqB,QAAzB,CAAmC,CACxCH,YAAY,CAACI,SAAb,CAAyB,CACvB,CACEC,UAAU,CAAElD,MAAM,CAACmD,WAAP,CAAmB,CAC7BC,UAAU,CAAE,CAAC,CAAD,CAAIvD,aAAJ,CADiB,CAE7BwD,WAAW,CAAE,CAACxD,aAAa,CAAG,CAAC,CAAlB,CAAqB,CAArB,CAFgB,CAAnB,CADd,CADuB,CAAzB,CAQD,CATM,IASA,IAAI,KAAKN,KAAL,CAAWyD,KAAX,GAAqB,QAAzB,CAAmC,CACxCH,YAAY,CAACI,SAAb,CAAyB,CACvB,CACEC,UAAU,CAAElD,MAAM,CAACmD,WAAP,CAAmB,CAC7BC,UAAU,CAAE,CAAC,CAAD,CAAIvD,aAAJ,CADiB,CAE7BwD,WAAW,CAAE,CAAC,CAACxD,aAAF,CAAiB,CAAjB,CAFgB,CAAnB,CADd,CADuB,CAAzB,CAQD,CACD,MACE,qBAAC,QAAD,CAAU,IAAV,EACE,KAAK,CAAE8C,KADT,CAEE,aAAa,CAAE,CAACF,mBAAD,EAAwBtC,SAAxB,CAAoC,MAApC,CAA6C,MAF9D,EAIE,oBAAC,QAAD,CAAU,IAAV,EACE,GAAG,CAAE,KAAKV,UADZ,CAEE,KAAK,CAAE,CAAC,KAAKF,KAAL,CAAWoD,KAAZ,CAAmBE,YAAnB,CAFT,CAGE,QAAQ,CAAE,KAAK5C,KAAL,CAAWC,SAAX,CAAuBoD,SAAvB,CAAmC,KAAK3D,mBAHpD,EAKG,KAAKJ,KAAL,CAAWgE,QALd,CAJF,CADF,CAcD,C,yBAjOsCrE,S,EAApBI,W,CACZkE,S,CAAY,CACjBR,KAAK,CAAE7D,SAAS,CAACsE,KAAV,CAAgB,CAAC,KAAD,CAAQ,QAAR,CAAkB,QAAlB,CAAhB,CADU,CAEjBtD,SAAS,CAAEhB,SAAS,CAACuE,IAFJ,CAGjBhD,eAAe,CAAEvB,SAAS,CAACwE,MAHV,CAIjBlB,mBAAmB,CAAEtD,SAAS,CAACuE,IAJd,CAKjBlC,QAAQ,CAAErC,SAAS,CAACwE,MALH,CAMjBlC,MAAM,CAAEtC,SAAS,CAACyE,SAAV,CAAoB,CAACzE,SAAS,CAAC0E,MAAX,CAAmB1E,SAAS,CAAC2E,IAA7B,CAApB,CANS,CAOjBnB,KAAK,CAAEvD,aAAa,CAACuD,KAPJ,CAQjBH,cAAc,CAAErD,SAAS,CAAC2E,IART,CASjBP,QAAQ,CAAEpE,SAAS,CAAC4E,IATH,C,CADAzE,W,CAaZ0E,Y,CAAe,CACpBhB,KAAK,CAAE,KADa,CAEpB7C,SAAS,CAAE,IAFS,CAGpBO,eAAe,CAAE,CAHG,CAIpB+B,mBAAmB,CAAE,KAJD,CAKpBjB,QAAQ,CAAE,GALU,CAMpBC,MAAM,CAAE,cANY,CAOpBe,cAAc,CAAE,gCAAM,KAAN,EAPI,C,QAbHlD,W","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated, Easing } from 'react-native';\nimport { ViewPropTypes } from './config';\n\nconst ANIMATED_EASING_PREFIXES = ['easeInOut', 'easeOut', 'easeIn'];\n\nexport default class Collapsible extends Component {\n  static propTypes = {\n    align: PropTypes.oneOf(['top', 'center', 'bottom']),\n    collapsed: PropTypes.bool,\n    collapsedHeight: PropTypes.number,\n    enablePointerEvents: PropTypes.bool,\n    duration: PropTypes.number,\n    easing: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    style: ViewPropTypes.style,\n    onAnimationEnd: PropTypes.func,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    align: 'top',\n    collapsed: true,\n    collapsedHeight: 0,\n    enablePointerEvents: false,\n    duration: 300,\n    easing: 'easeOutCubic',\n    onAnimationEnd: () => null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      measuring: false,\n      measured: false,\n      height: new Animated.Value(props.collapsedHeight),\n      contentHeight: 0,\n      animating: false,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.collapsed !== this.props.collapsed) {\n      this.setState({ measured: false }, () =>\n        this._componentDidUpdate(prevProps)\n      );\n    } else {\n      this._componentDidUpdate(prevProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this.unmounted = true;\n  }\n\n  _componentDidUpdate(prevProps) {\n    if (prevProps.collapsed !== this.props.collapsed) {\n      this._toggleCollapsed(this.props.collapsed);\n    } else if (\n      this.props.collapsed &&\n      prevProps.collapsedHeight !== this.props.collapsedHeight\n    ) {\n      this.state.height.setValue(this.props.collapsedHeight);\n    }\n  }\n\n  contentHandle = null;\n\n  _handleRef = ref => {\n    this.contentHandle = ref;\n  };\n\n  _measureContent(callback) {\n    this.setState(\n      {\n        measuring: true,\n      },\n      () => {\n        requestAnimationFrame(() => {\n          if (!this.contentHandle) {\n            this.setState(\n              {\n                measuring: false,\n              },\n              () => callback(this.props.collapsedHeight)\n            );\n          } else {\n            let ref;\n            if (typeof this.contentHandle.measure === 'function') {\n              ref = this.contentHandle;\n            } else {\n              ref = this.contentHandle.getNode();\n            }\n            ref.measure((x, y, width, height) => {\n              this.setState(\n                {\n                  measuring: false,\n                  measured: true,\n                  contentHeight: height,\n                },\n                () => callback(height)\n              );\n            });\n          }\n        });\n      }\n    );\n  }\n\n  _toggleCollapsed(collapsed) {\n    if (collapsed) {\n      this._transitionToHeight(this.props.collapsedHeight);\n    } else if (!this.contentHandle) {\n      if (this.state.measured) {\n        this._transitionToHeight(this.state.contentHeight);\n      }\n      return;\n    } else {\n      this._measureContent(contentHeight => {\n        this._transitionToHeight(contentHeight);\n      });\n    }\n  }\n\n  _transitionToHeight(height) {\n    const { duration } = this.props;\n    let easing = this.props.easing;\n    if (typeof easing === 'string') {\n      let prefix;\n      let found = false;\n      for (let i = 0; i < ANIMATED_EASING_PREFIXES.length; i++) {\n        prefix = ANIMATED_EASING_PREFIXES[i];\n        if (easing.substr(0, prefix.length) === prefix) {\n          easing =\n            easing.substr(prefix.length, 1).toLowerCase() +\n            easing.substr(prefix.length + 1);\n          prefix = prefix.substr(4, 1).toLowerCase() + prefix.substr(5);\n          easing = Easing[prefix](Easing[easing || 'ease']);\n          found = true;\n          break;\n        }\n      }\n      if (!found) {\n        easing = Easing[easing];\n      }\n      if (!easing) {\n        throw new Error('Invalid easing type \"' + this.props.easing + '\"');\n      }\n    }\n\n    if (this._animation) {\n      this._animation.stop();\n    }\n    this.setState({ animating: true });\n    this._animation = Animated.timing(this.state.height, {\n      useNativeDriver: false,\n      toValue: height,\n      duration,\n      easing,\n    }).start(() => {\n      if (this.unmounted) {\n        return;\n      }\n      this.setState({ animating: false }, () => {\n        if (this.unmounted) {\n          return;\n        }\n        this.props.onAnimationEnd();\n      });\n    });\n  }\n\n  _handleLayoutChange = event => {\n    const contentHeight = event.nativeEvent.layout.height;\n    if (\n      this.state.animating ||\n      this.props.collapsed ||\n      this.state.measuring ||\n      this.state.contentHeight === contentHeight\n    ) {\n      return;\n    }\n\n    this.state.height.setValue(contentHeight);\n    this.setState({ contentHeight });\n  };\n\n  render() {\n    const { collapsed, enablePointerEvents } = this.props;\n    const { height, contentHeight, measuring, measured } = this.state;\n    const hasKnownHeight = !measuring && (measured || collapsed);\n    const style = hasKnownHeight && {\n      overflow: 'hidden',\n      height: height,\n    };\n    const contentStyle = {};\n    if (measuring) {\n      contentStyle.position = 'absolute';\n      contentStyle.opacity = 0;\n    } else if (this.props.align === 'center') {\n      contentStyle.transform = [\n        {\n          translateY: height.interpolate({\n            inputRange: [0, contentHeight],\n            outputRange: [contentHeight / -2, 0],\n          }),\n        },\n      ];\n    } else if (this.props.align === 'bottom') {\n      contentStyle.transform = [\n        {\n          translateY: height.interpolate({\n            inputRange: [0, contentHeight],\n            outputRange: [-contentHeight, 0],\n          }),\n        },\n      ];\n    }\n    return (\n      <Animated.View\n        style={style}\n        pointerEvents={!enablePointerEvents && collapsed ? 'none' : 'auto'}\n      >\n        <Animated.View\n          ref={this._handleRef}\n          style={[this.props.style, contentStyle]}\n          onLayout={this.state.animating ? undefined : this._handleLayoutChange}\n        >\n          {this.props.children}\n        </Animated.View>\n      </Animated.View>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}